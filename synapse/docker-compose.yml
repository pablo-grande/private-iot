version: "3.3"

services:
  synapse:
    image: matrixdotorg/synapse:latest
    container_name: synapse
    volumes:
        - ./data:/data
    environment:
      VIRTUAL_HOST: "localhost"
      VIRTUAL_PORT: 8008
      LETSENCRYPT_HOST: "localhost"
      SYNAPSE_SERVER_NAME: "localhost"
      SYNAPSE_REPORT_STATS: "yes"
    networks: ["nginx_server"]


networks:
  nginx_server:
    external: true
